{"version":3,"file":"supermemo.cjs.production.min.js","sources":["../src/supermemo.ts"],"sourcesContent":["export type SuperMemoItem = {\n  interval: number;\n  repetition: number;\n  efactor: number;\n};\n\nexport type SuperMemoGrade = 0 | 1 | 2 | 3 | 4 | 5;\n\nexport function supermemo(\n  item: SuperMemoItem,\n  grade: SuperMemoGrade\n): SuperMemoItem {\n  let nextInterval: number;\n  let nextRepetition: number;\n  let nextEfactor: number;\n\n  if (grade >= 3) {\n    if (item.repetition === 0) {\n      nextInterval = 1;\n      nextRepetition = 1;\n    } else if (item.repetition === 1) {\n      nextInterval = 6;\n      nextRepetition = 2;\n    } else {\n      nextInterval = Math.round(item.interval * item.efactor);\n      nextRepetition = item.repetition + 1;\n    }\n  } else {\n    nextInterval = 1;\n    nextRepetition = 0;\n  }\n\n  nextEfactor =\n    item.efactor + (0.1 - (5 - grade) * (0.08 + (5 - grade) * 0.02));\n\n  if (nextEfactor < 1.3) nextEfactor = 1.3;\n\n  return {\n    interval: nextInterval,\n    repetition: nextRepetition,\n    efactor: nextEfactor,\n  };\n}\n"],"names":["item","grade","nextInterval","nextRepetition","nextEfactor","repetition","Math","round","interval","efactor"],"mappings":"+FASEA,EACAC,OAEIC,EACAC,EACAC,SAEAH,GAAS,EACa,IAApBD,EAAKK,YACPH,EAAe,EACfC,EAAiB,GACY,IAApBH,EAAKK,YACdH,EAAe,EACfC,EAAiB,IAEjBD,EAAeI,KAAKC,MAAMP,EAAKQ,SAAWR,EAAKS,SAC/CN,EAAiBH,EAAKK,WAAa,IAGrCH,EAAe,EACfC,EAAiB,IAGnBC,EACEJ,EAAKS,SAAW,IAAO,EAAIR,IAAU,IAAqB,KAAb,EAAIA,MAEjC,MAAKG,EAAc,KAE9B,CACLI,SAAUN,EACVG,WAAYF,EACZM,QAASL"}